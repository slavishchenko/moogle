{% load humanize %}
<div class="card">
    <img
        src="{{ song.album.images.0.url }}"
        class="card-img-top"
        alt="album-cover"
    />
    <div class="card-body">
        <div class="col d-flex align-items-center">
            <h6 class="text-secondary">{{ song.artists.0.name }}</h6>
            <div class="col d-flex justify-content-end">
                <a href="{{ artist.external_urls.spotify }}" class="spotify-link py-0 px-2 h6" target="_blank">
                    <span class="align-middle">
                        <i class="bi bi-spotify text-success"></i>
                    </span>
                </a>
                <span class="align-middle">
                    <i class="bi bi-people-fill"></i>
                    {{ artist.followers|intcomma }}
                </span>
            </div>
        </div>
        <h5 class="card-title">{{ song.name }}</h5>
        <hr />
        <ul class="list-group list-group-flush">
            <li class="list-group-item">
                BPM: {{ analysis.tempo|floatformat:0 }}
            </li>
            <li class="list-group-item">Key: {{ analysis.tonality }}</li>
            <li class="list-group-item">Duration: {{ analysis.length }}</li>
        </ul>
        <hr class="my-3 p-0">
        <div class="row justify-content-between">
            <div class="col text-center">
                <small class="text-muted">Album</small>
                <h5 class="fs-6 fw-normal">
                    <a class="text-dark hover-primary" href="{{ album.external_urls.spotify }}" target="_blank">
                        {{ album.name }}
                    </a>
                </h5>
            </div>
            <div class="col text-center">
                <small class="text-muted">Release Date</small>
                <h5 class="fs-6 fw-normal">{{ album.release_date }}</h5>
            </div>
            <div class="col text-center">
                <small class="text-muted">Label</small>
                <h5 class="fs-6 fw-normal">{{ album.label }}</h5>
            </div>
        </div>
        <hr>
        <div class="bg-light p-2">
            <p class="card-text">
                {% autoescape off %}
                    {{ about }}
                {% endautoescape %}
            </p>
        </div>
        <a href="{{ song.url }}"
        target="_blank"
        class="mt-3 btn btn-success w-100">
            Listen on Spotify
        </a>
    </div>
</div>